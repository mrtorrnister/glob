<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Colored 3D Globe</title>
<style>
  body { margin: 0; overflow: hidden; }
</style>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.0/examples/js/controls/OrbitControls.js"></script>

<script>
const width = window.innerWidth;
const height = window.innerHeight;

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(45, width/height, 0.1, 2000);
camera.position.z = 400;

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(width, height);
document.body.appendChild(renderer.domElement);

const controls = new THREE.OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;
controls.dampingFactor = 0.05;

// Sphere for globe
const globeRadius = 150;
const globe = new THREE.Mesh(
  new THREE.SphereGeometry(globeRadius, 64, 64),
  new THREE.MeshBasicMaterial({color: 0x000000, wireframe: false})
);
scene.add(globe);

// Country colors
const countryColors = {
  "Afghanistan": "#FF5733", "Albania": "#33FF57", "Algeria": "#3357FF",
  "Andorra": "#FF33A6", "Angola": "#FF8C33", "Antigua and Barbuda": "#33FFF5",
  "Argentina": "#F533FF", "Armenia": "#FF5733", "Australia": "#33FF57",
  "Austria": "#3357FF", "Azerbaijan": "#FF33A6", "Bahamas": "#FF8C33",
  "Bahrain": "#33FFF5", "Bangladesh": "#F533FF", "Barbados": "#FF5733",
  "Belarus": "#33FF57", "Belgium": "#3357FF", "Belize": "#FF33A6",
  "Benin": "#FF8C33", "Bhutan": "#33FFF5", "Bolivia": "#F533FF",
  "Bosnia and Herzegovina": "#FF5733", "Botswana": "#33FF57", "Brazil": "#3357FF",
  "Brunei": "#FF33A6", "Bulgaria": "#FF8C33", "Burkina Faso": "#33FFF5",
  "Burundi": "#F533FF", "Cabo Verde": "#FF5733", "Cambodia": "#33FF57",
  "Cameroon": "#3357FF", "Canada": "#FF33A6", "Central African Republic": "#FF8C33",
  "Chad": "#33FFF5", "Chile": "#F533FF", "China": "#FF5733",
  "Colombia": "#33FF57", "Comoros": "#3357FF", "Congo (Congo-Brazzaville)": "#FF33A6",
  "Congo (Democratic Republic) (Congo-Kinshasa)": "#FF8C33", "Costa Rica": "#33FFF5",
  "Croatia": "#F533FF", "Cuba": "#FF5733", "Cyprus": "#33FF57",
  "Czechia": "#3357FF", "Denmark": "#FF33A6", "Djibouti": "#FF8C33",
  "Dominica": "#33FFF5", "Dominican Republic": "#F533FF",
  "Ecuador": "#FF5733", "Egypt": "#33FF57", "El Salvador": "#3357FF",
  "Equatorial Guinea": "#FF33A6", "Eritrea": "#FF8C33", "Estonia": "#33FFF5",
  "Eswatini": "#F533FF", "Ethiopia": "#FF5733", "Fiji": "#33FF57",
  "Finland": "#3357FF", "France": "#FF33A6", "Gabon": "#FF8C33",
  "Gambia": "#33FFF5", "Georgia": "#F533FF", "Germany": "#FF5733",
  "Ghana": "#33FF57", "Greece": "#3357FF", "Grenada": "#FF33A6",
  "Guatemala": "#FF8C33", "Guinea": "#33FFF5", "Guinea-Bissau": "#F533FF",
  "Guyana": "#FF5733", "Haiti": "#33FF57", "Honduras": "#3357FF",
  "Hungary": "#FF33A6", "Iceland": "#FF8C33", "India": "#33FFF5",
  "Indonesia": "#F533FF", "Iran": "#FF5733", "Iraq": "#33FF57",
  "Ireland": "#3357FF", "Israel": "#FF33A6", "Italy": "#FF8C33",
  "Jamaica": "#33FFF5", "Japan": "#F533FF", "Jordan": "#FF5733",
  "Kazakhstan": "#33FF57", "Kenya": "#3357FF", "Kiribati": "#FF33A6",
  "Kuwait": "#FF8C33", "Kyrgyzstan": "#33FFF5", "Laos": "#F533FF",
  "Latvia": "#FF5733", "Lebanon": "#33FF57", "Lesotho": "#3357FF",
  "Liberia": "#FF33A6", "Libya": "#FF8C33", "Liechtenstein": "#33FFF5",
  "Lithuania": "#F533FF", "Luxembourg": "#FF5733", "Madagascar": "#33FF57",
  "Malawi": "#3357FF", "Malaysia": "#FF33A6", "Maldives": "#FF8C33",
  "Mali": "#33FFF5", "Malta": "#F533FF", "Marshall Islands": "#FF5733",
  "Mauritania": "#33FF57", "Mauritius": "#3357FF", "Mexico": "#FF33A6",
  "Micronesia": "#FF8C33", "Moldova": "#33FFF5", "Monaco": "#F533FF",
  "Mongolia": "#FF5733", "Montenegro": "#33FF57", "Morocco": "#3357FF",
  "Mozambique": "#FF33A6", "Myanmar": "#FF8C33", "Namibia": "#33FFF5",
  "Nauru": "#F533FF", "Nepal": "#FF5733", "Netherlands": "#33FF57",
  "New Zealand": "#3357FF", "Nicaragua": "#FF33A6", "Niger": "#FF8C33",
  "Nigeria": "#33FFF5", "North Macedonia": "#F533FF", "Norway": "#FF5733",
  "Oman": "#33FF57", "Pakistan": "#3357FF", "Palau": "#FF33A6",
  "Palestine State": "#FF8C33", "Panama": "#33FFF5", "Papua New Guinea": "#F533FF",
  "Paraguay": "#FF5733", "Peru": "#33FF57", "Philippines": "#3357FF",
  "Poland": "#FF33A6", "Portugal": "#FF8C33", "Qatar": "#33FFF5",
  "Romania": "#F533FF", "Russia": "#FF5733", "Rwanda": "#33FF57",
  "Saint Kitts and Nevis": "#3357FF", "Saint Lucia": "#FF33A6",
  "Saint Vincent and the Grenadines": "#FF8C33", "Samoa": "#33FFF5",
  "San Marino": "#F533FF", "Sao Tome and Principe": "#FF5733",
  "Saudi Arabia": "#33FF57", "Senegal": "#3357FF", "Serbia": "#FF33A6",
  "Seychelles": "#FF8C33", "Sierra Leone": "#33FFF5", "Singapore": "#F533FF",
  "Slovakia": "#FF5733", "Slovenia": "#33FF57", "Solomon Islands": "#3357FF",
  "Somalia": "#FF33A6", "South Africa": "#FF8C33", "South Sudan": "#33FFF5",
  "Spain": "#F533FF", "Sri Lanka": "#FF5733", "Sudan": "#33FF57",
  "Suriname": "#3357FF", "Sweden": "#FF33A6", "Switzerland": "#FF8C33",
  "Syria": "#33FFF5", "Tajikistan": "#F533FF", "Tanzania": "#FF5733",
  "Thailand": "#33FF57", "Timor-Leste": "#3357FF", "Togo": "#FF33A6",
  "Tonga": "#FF8C33", "Trinidad and Tobago": "#33FFF5", "Tunisia": "#F533FF",
  "Turkey": "#FF5733", "Turkmenistan": "#33FF57", "Tuvalu": "#3357FF",
  "Uganda": "#FF33A6", "Ukraine": "#FF8C33", "United Arab Emirates": "#33FFF5",
  "United Kingdom": "#F533FF", "United States": "#FF5733", "Uruguay": "#33FF57",
  "Uzbekistan": "#3357FF", "Vanuatu": "#FF33A6", "Vatican City": "#FF8C33",
  "Venezuela": "#33FFF5", "Vietnam": "#F533FF", "Yemen": "#FF5733",
  "Zambia": "#33FF57", "Zimbabwe": "#3357FF"
};

// Load world1.json
fetch("world1.json")
  .then(res => res.json())
  .then(data => {
    data.features.forEach(feature => {
      const coords = feature.geometry.coordinates;
      const color = countryColors[feature.properties.name] || "#888888";
      coords.forEach(polygon => drawCountry(polygon, color));
    });
  });

function drawCountry(coords, color) {
  coords.forEach(ring => {
    const shape = new THREE.Shape();
    ring.forEach((pt, i) => {
      const lon = pt[0] * Math.PI/180;
      const lat = pt[1] * Math.PI/180;
      const x = globeRadius * Math.cos(lat) * Math.sin(lon);
      const y = globeRadius * Math.sin(lat);
      const z = globeRadius * Math.cos(lat) * Math.cos(lon);
      if(i===0) shape.moveTo(x,y);
      else shape.lineTo(x,y);
    });
    const geom = new THREE.ShapeGeometry(shape);
    const mat = new THREE.MeshBasicMaterial({color: color, side: THREE.DoubleSide});
    const mesh = new THREE.Mesh(geom, mat);
    mesh.lookAt(new THREE.Vector3(0,0,0));
    scene.add(mesh);
  });
}

function animate() {
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene, camera);
}
animate();
</script>
</body>
</html>
